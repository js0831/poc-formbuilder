(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{GwjG:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){return function(){}}(),o=t("YImT"),i=t("YxIH"),r=t("pMnS"),c=t("Ip0R"),a=t("mrSG"),s=function(){function n(n,l){this.router=n,this.appService=l,this.list=[]}return n.prototype.ngOnInit=function(){return a.b(this,void 0,void 0,(function(){var n;return a.e(this,(function(l){switch(l.label){case 0:return[4,this.appService.getProductSpecList().toPromise()];case 1:return n=l.sent(),this.list=n.data,console.log(this.list),[2]}}))}))},n.prototype.create=function(){this.router.navigate(["spec","form"])},n.prototype.edit=function(n){this.router.navigate(["spec","form",n])},n}(),p=t("ZYCi"),d=t("F5nt"),b=e.sb({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{margin:0;padding:3px;width:100%;font-weight:300}.header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap}.actions[_ngcontent-%COMP%]{text-align:right}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}.list[_ngcontent-%COMP%]{padding:10px 0;height:calc(100vh - 70px);box-sizing:border-box;overflow-y:auto;overflow-x:hidden}"]],data:{}});function f(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(n()(),e.Mb(2,null,["",""])),(n()(),e.ub(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(4,null,["",""])),(n()(),e.ub(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.ub(7,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),(n()(),e.ub(9,0,null,null,2,"td",[["class","actions"]],null,null,null,null,null)),(n()(),e.ub(10,0,null,null,1,"button",[["class","btn btn-sm btn-warning"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.edit(n.context.$implicit._id)&&e),e}),null,null)),(n()(),e.Mb(-1,null,["Edit"]))],null,(function(n,l){n(l,2,0,l.context.index+1),n(l,4,0,"FORM"===l.context.$implicit.details.specType?"Form":"Product Type"),n(l,6,0,l.context.$implicit.details.name),n(l,8,0,l.context.$implicit.details.description)}))}function m(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,5,"div",[["class","header"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Product Specifications"])),(n()(),e.ub(3,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.create()&&e),e}),null,null)),(n()(),e.Mb(-1,null,["Add New"])),(n()(),e.ub(6,0,null,null,15,"div",[["class","list"]],null,null,null,null,null)),(n()(),e.ub(7,0,null,null,14,"table",[["class","table table-sm table-striped"]],null,null,null,null,null)),(n()(),e.ub(8,0,null,null,10,"thead",[["class","thead-dark"]],null,null,null,null,null)),(n()(),e.ub(9,0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),e.ub(10,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["#"])),(n()(),e.ub(12,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Type"])),(n()(),e.ub(14,0,null,null,1,"th",[["scope","col"],["style","width: 300px;"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Name"])),(n()(),e.ub(16,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Description"])),(n()(),e.ub(18,0,null,null,0,"th",[["scope","col"]],null,null,null,null,null)),(n()(),e.ub(19,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,f)),e.tb(21,278528,null,0,c.j,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,21,0,l.component.list)}),null)}function h(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"app-product-spec-page",[],null,null,null,m,b)),e.tb(1,114688,null,0,s,[p.k,d.a],null,null)],(function(n,l){n(l,1,0)}),null)}var g=e.qb("app-product-spec-page",s,h,{},{},[]),v=t("Nsd2"),x=t("t/Na"),M=t("gIcY"),O=t("67Y/"),y=function(){function n(n,l,t,e){this.router=n,this.http=l,this.activatedRoute=t,this.appService=e,this.formsSelectionsOptions=[],this.formBuilderConfig={model:{},form:new M.k({}),fields:[],options:{}},this.specFormBuilderConfig={model:{},form:new M.k({}),fields:[],options:{}},this.reload=!1,this.formBuilderMode="edit"}return n.prototype.ngOnInit=function(){return a.b(this,void 0,void 0,(function(){var n,l;return a.e(this,(function(t){switch(t.label){case 0:return this.id=this.activatedRoute.snapshot.paramMap.get("id"),[4,this.getForm().toPromise()];case 1:return n=t.sent(),l=this,[4,this.getFormOptionSelections()];case 2:return l.formsSelectionsOptions=t.sent(),this.formBuilderConfig.fields=n,this.id&&this.getProductSpec(this.id),this.reload=!0,[2]}}))}))},n.prototype.getFormOptionSelections=function(){return this.appService.getProductSpecList("FORM").pipe(Object(O.a)((function(n){return n.data.map((function(n){return{id:n._id,name:n.details.name}}))}))).toPromise()},n.prototype.getProductSpec=function(n){return a.b(this,void 0,void 0,(function(){var l,t,e;return a.e(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.appService.getProductSpec(n).toPromise()];case 1:return l=u.sent(),this.name=(t=l.data.details).name,e=l.data.spec.json,this.currentSpecId=l.data.spec._id,this.formBuilderConfig.form.patchValue({details:t}),this.reloadSpecForm(e),[3,3];case 2:return u.sent(),alert("Document do not Exist!"),this.cancel(),[3,3];case 3:return[2]}}))}))},n.prototype.onSave=function(n){console.log(JSON.stringify(n.data))},n.prototype.cancel=function(){this.router.navigate(["spec","list"])},n.prototype.getForm=function(){return this.http.get("/assets/json/product-spec-form.json")},n.prototype.save=function(){var n=this;if(this.formBuilderConfig.form.invalid)this.formBuilderConfig.form.markAllAsTouched();else if(this.id)this.update();else{var l=this.formBuilderConfig.form.value,t=JSON.parse(JSON.stringify(this.specFormBuilderConfig.fields)),e=a.a({},l,{spec:t});this.appService.createProductSpec(e).subscribe((function(l){n.formBuilderConfig.form.reset(),n.reloadSpecForm([]),alert("Success")}))}},n.prototype.update=function(){var n=this,l=this.formBuilderConfig.form.value,t=JSON.parse(JSON.stringify(this.specFormBuilderConfig.fields)),e=a.a({_id:this.id},l,{spec:t,previousSpec:[this.currentSpecId]});this.appService.updateProductSpec(e).subscribe((function(l){n.name=l.data.details.name,alert("Update Successful")}))},n.prototype.reloadSpecForm=function(n){var l=this;this.reload=!1,this.specFormBuilderConfig.fields=n,setTimeout((function(n){l.reload=!0}),250)},n.prototype.formBuilderEvent=function(n){"MODE_CHANGE"===n.name&&(this.formBuilderMode=n.data)},n}(),S=e.sb({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{margin:0;padding:3px;width:100%;font-weight:300}h4[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:justify;justify-content:space-between;border-bottom:1px solid #eee;padding-bottom:10px}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#28a745;text-transform:capitalize}.header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;border-bottom:1px solid #eee}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:5px}.form[_ngcontent-%COMP%]{padding:10px 0;height:calc(100vh - 70px);box-sizing:border-box;overflow-y:auto;overflow-x:hidden}"]],data:{}});function k(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.save()&&e),e}),null,null)),(n()(),e.Mb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.id?"Update":"Save")}))}function w(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"ng-jk-form-builder",[],null,null,null,i.b,i.a)),e.Jb(512,null,v.c,v.c,[x.c,v.d]),e.tb(2,245760,null,0,v.a,[v.c],{editable:[0,"editable"],config:[1,"config"]},null)],(function(n,l){n(l,2,0,!1,l.component.formBuilderConfig)}),null)}function E(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"ng-jk-form-builder",[],null,[[null,"event"]],(function(n,l,t){var e=!0,u=n.component;return"event"===l&&(e=!1!==u.formBuilderEvent(t)&&e),"event"===l&&(e=!1!==u.onSave(t)&&e),e}),i.b,i.a)),e.Jb(512,null,v.c,v.c,[x.c,v.d]),e.tb(2,245760,null,0,v.a,[v.c],{enableSaveReset:[0,"enableSaveReset"],config:[1,"config"],forms:[2,"forms"]},{event:"event"})],(function(n,l){var t=l.component;n(l,2,0,!1,t.specFormBuilderConfig,t.formsSelectionsOptions)}),null)}function C(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"div",[["class","header"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e.Mb(2,null,["",""])),(n()(),e.ub(3,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.cancel()&&e),e}),null,null)),(n()(),e.Mb(-1,null,["Cancel"])),(n()(),e.jb(16777216,null,null,1,null,k)),e.tb(7,16384,null,0,c.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(8,0,null,null,8,"div",[["class","form"]],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,w)),e.tb(10,16384,null,0,c.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(11,0,null,null,3,"h4",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Specification "])),(n()(),e.ub(13,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(14,null,["Mode: ",""])),(n()(),e.jb(16777216,null,null,1,null,E)),e.tb(16,16384,null,0,c.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,7,0,"edit"===t.formBuilderMode),n(l,10,0,t.formBuilderConfig.fields.length>0),n(l,16,0,t.reload)}),(function(n,l){var t=l.component;n(l,2,0,t.id?t.name:"New Product Specifications"),n(l,14,0,t.formBuilderMode)}))}function P(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"app-product-spec-form",[],null,null,null,C,S)),e.tb(1,114688,null,0,y,[p.k,x.c,p.a,d.a],null,null)],(function(n,l){n(l,1,0)}),null)}var _=e.qb("app-product-spec-form",y,P,{},{},[]),j=t("vZwA"),B=function(){return function(){}}();t.d(l,"ProductSpecModuleNgFactory",(function(){return F}));var F=e.rb(u,[],(function(n){return e.Db([e.Eb(512,e.j,e.cb,[[8,[o.e,o.f,i.f,i.g,i.h,i.i,i.l,i.j,i.k,i.m,i.n,i.c,i.d,i.e,r.a,g,_]],[3,e.j],e.y]),e.Eb(4608,c.m,c.l,[e.v,[2,c.x]]),e.Eb(4608,M.A,M.A,[]),e.Eb(4608,M.g,M.g,[]),e.Eb(4608,x.h,x.n,[c.d,e.C,x.l]),e.Eb(4608,x.o,x.o,[x.h,x.m]),e.Eb(5120,x.a,(function(n){return[n]}),[x.o]),e.Eb(4608,x.k,x.k,[]),e.Eb(6144,x.i,null,[x.k]),e.Eb(4608,x.g,x.g,[x.i]),e.Eb(6144,x.b,null,[x.g]),e.Eb(4608,x.f,x.j,[x.b,e.r]),e.Eb(4608,x.c,x.c,[x.f]),e.Eb(4608,j.h,j.h,[j.e,e.j,e.r]),e.Eb(4608,v.c,v.c,[x.c,v.d]),e.Eb(1073742336,c.c,c.c,[]),e.Eb(1073742336,M.z,M.z,[]),e.Eb(1073742336,M.m,M.m,[]),e.Eb(1073742336,M.v,M.v,[]),e.Eb(512,j.e,j.e,[]),e.Eb(1024,j.a,(function(n){return[j.j(n),{types:[{name:"input",component:v.v},{name:"textarea",component:v.w},{name:"select",component:v.x},{name:"select_multiple",component:v.y},{name:"radio",component:v.B},{name:"checkbox",component:v.z},{name:"checkboxes",component:v.A},{name:"blank",component:v.C},{name:"form",component:v.D},{name:"text_paragraph",component:v.e},{name:"text_header",component:v.f}],wrappers:[{name:"form-group",component:v.g}],validationMessages:[{name:"required",message:"This field is required"},{name:"minlength",message:v.o},{name:"maxlength",message:v.p},{name:"min",message:v.q},{name:"max",message:v.r},{name:"pattern",message:v.s}]}]}),[j.e]),e.Eb(1073742336,j.i,j.i,[j.e,[2,j.a]]),e.Eb(1073742336,x.e,x.e,[]),e.Eb(1073742336,x.d,x.d,[]),e.Eb(1073742336,v.t,v.t,[]),e.Eb(1073742336,v.b,v.b,[]),e.Eb(1073742336,p.l,p.l,[[2,p.q],[2,p.k]]),e.Eb(1073742336,B,B,[]),e.Eb(1073742336,u,u,[]),e.Eb(256,x.l,"XSRF-TOKEN",[]),e.Eb(256,x.m,"X-XSRF-TOKEN",[]),e.Eb(1024,p.i,(function(){return[[{path:"list",component:s},{path:"form",component:y},{path:"form/:id",component:y},{path:"",redirectTo:"list",pathMatch:"full"}]]}),[]),e.Eb(256,v.d,{apiURL:"https://app-form-builder-poc-api.herokuapp.com/product/spec/json/"},[])])}))}}]);